# ============================================
# CHOPSTICKS COMPREHENSIVE ENVIRONMENT CONFIG
# ============================================
# Generated: 2026-02-11
# Complete configuration for production deployment

# ============================================
# DISCORD BOT CORE
# ============================================
DISCORD_TOKEN=MTQ2NjM4Mjg3NDU4NzQzMTAzNg.GrxUrJ.aKyjq8hLTSLWQtY5B0Wxzy85R63HeSIaEOPjGw
CLIENT_ID=1466382874587431036
DISCORD_CLIENT_ID=1466382874587431036

# Discord OAuth (for dashboard/web features)
DISCORD_CLIENT_SECRET=your_client_secret_here
DISCORD_REDIRECT_URI=http://localhost:3002/auth/callback

# Bot Owner (comma-separated user IDs)
BOT_OWNER_ID=1122800062628634684
BOT_OWNER_IDS=1122800062628634684

# Sharding (leave blank for auto)
DISCORD_SHARDS=

# ============================================
# DATABASE (PostgreSQL)
# ============================================
POSTGRES_URL=postgres://chopsticks:chopsticks@postgres:5432/chopsticks
DATABASE_URL=postgres://chopsticks:chopsticks@postgres:5432/chopsticks
STORAGE_DRIVER=postgres

# Guild data cache TTL
GUILD_CACHE_TTL_SEC=300

# ============================================
# REDIS (Caching & Sessions)
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# ============================================
# LAVALINK (Music Service)
# ============================================
LAVALINK_HOST=lavalink
LAVALINK_PORT=2333
LAVALINK_PASSWORD=youshallnotpass
LAVALINK_INIT_RETRIES=5

# ============================================
# AGENT POOLING SYSTEM
# ============================================
# Agent encryption key (64 char hex - KEEP SECRET)
AGENT_TOKEN_KEY=f563ea966b21662559c66facc695ece380bb44064b50ef0aeeab5ff31626af8c

# Agent Control Plane (WebSocket server)
AGENT_CONTROL_HOST=0.0.0.0
AGENT_CONTROL_PORT=8787
AGENT_CONTROL_URL=ws://main-bot:8787

# Agent behavior tuning
AGENT_RUNNER_POLL_INTERVAL_MS=10000
AGENT_RECONCILE_EVERY_MS=300000
AGENT_PRUNE_EVERY_MS=10000
AGENT_STALE_MS=45000

# Agent invite permissions (default: Connect + Speak + Use Voice Activity)
AGENT_INVITE_PERMS=3147776

# Scaling token (for multi-runner deployments)
AGENT_SCALE_TOKEN=

# ============================================
# VOICE SERVICES (STT/TTS/LLM)
# ============================================
# Service URLs
VOICE_ASSIST_STT_URL=http://voice-stt:9000
VOICE_ASSIST_LLM_URL=http://voice-llm:9001
VOICE_ASSIST_TTS_URL=http://voice-tts:9002

# Whisper (Speech-to-Text) Configuration
VOICE_WHISPER_MODEL=small
VOICE_WHISPER_DEVICE=cpu
VOICE_WHISPER_COMPUTE_TYPE=int8
VOICE_WHISPER_CPU_THREADS=4

# Ollama (LLM) Configuration
VOICE_OLLAMA_URL=http://ollama:11434
VOICE_OLLAMA_MODEL=llama3.1:8b
VOICE_OLLAMA_OPTIONS=

# Assistant voice presets (comma-separated)
ASSISTANT_VOICE_PRESETS=nova,alloy,echo,fable,onyx,shimmer

# Voice feature settings
VOICE_CREATE_COOLDOWN_MS=3000
VOICE_MAX_CHANNELS_PER_LOBBY=10

# ============================================
# DEVELOPMENT & TESTING
# ============================================
DEV_GUILD_ID=1466336474176950285
DEV_API_PORT=3002
DEV_API_BASE_URL=http://localhost:3002
DEV_API_USERNAME=user9007
DEV_API_PASSWORD=/.,Cardinals13


# Dashboard dev credentials
DEV_DASHBOARD_PORT=3003
DEV_DASHBOARD_USERNAME=user9007
DEV_DASHBOARD_PASSWORD=/.,Cardinals13

# ============================================
# DASHBOARD (Web UI)
# ============================================
DASHBOARD_PORT=3002
DASHBOARD_BASE_URL=http://localhost:3002
DASHBOARD_SESSION_SECRET=generate_random_64_char_string_here_for_session_security
DASHBOARD_COOKIE_SECURE=false
DASHBOARD_INSTANCE_NAME=Chopsticks Bot

# Dashboard admin user IDs (comma-separated)
DASHBOARD_ADMIN_IDS=1122800062628634684
DASHBOARD_ADMIN_TOKEN=your_dashboard_admin_token_here

# Peer dashboard instances (comma-separated URLs for multi-instance setup)
DASHBOARD_PEERS=

# Rate limiting for dashboard API
DASH_RATE_LIMIT=100
DASH_RATE_WINDOW_SEC=60

# ============================================
# MONITORING & HEALTH
# ============================================
HEALTH_SERVER_PORT=8080
HEALTH_PORT=8080

# Metrics (Prometheus)
METRICS_PORT=9090
METRICS_PORT_BUMP=0

# Analytics flush interval
ANALYTICS_FLUSH_MS=60000

# ============================================
# DEPLOYMENT
# ============================================
DEPLOY_MODE=development
NODE_ENV=development
HOSTNAME=

# Runner ID (auto-set by Docker)
RUNNER_ID=

# ============================================
# FEATURE FLAGS
# ============================================
# Enable/disable major features
FEATURE_MUSIC=true
FEATURE_VOICE_MASTER=true
FEATURE_ASSISTANT=true
FEATURE_AGENTS=true
FEATURE_DASHBOARD=true

# ============================================
# RATE LIMITING & SECURITY
# ============================================
# Command rate limits (requests per minute per user)
RATE_LIMIT_PER_USER=30
RATE_LIMIT_PER_GUILD=100

# Max concurrent music sessions per agent
MAX_MUSIC_SESSIONS_PER_AGENT=3

# Session timeout (milliseconds)
SESSION_TIMEOUT_MS=3600000

# ============================================
# LOGGING & DEBUG
# ============================================
LOG_LEVEL=info
DEBUG=false
VERBOSE_SQL=false
VERBOSE_AGENT_LOGS=false

# ============================================
# EXTERNAL INTEGRATIONS (Optional)
# ============================================
# Add your API keys here
YOUTUBE_API_KEY=
SPOTIFY_CLIENT_ID=
SPOTIFY_CLIENT_SECRET=
GENIUS_API_KEY=

# ============================================
# FUNHUB (FUN VARIANT API)
# ============================================
# Bot runtime provider: auto | hub | local
FUN_PROVIDER=auto

# URL used by bot container to call FunHub
FUNHUB_URL=http://funhub:8790

# Internal key used by bot/dash to call FunHub (falls back to AGENT_TOKEN_KEY if empty)
FUNHUB_INTERNAL_API_KEY=

# Extra external API keys (comma-separated) for web/game integrations
FUNHUB_API_KEYS=

# Require API key auth for /api/fun/* endpoints
FUNHUB_REQUIRE_API_KEY=true

# Optional CORS allowlist (comma-separated origins)
FUNHUB_CORS_ORIGINS=

# FunHub request timeout from bot runtime
FUNHUB_TIMEOUT_MS=1800

# FunHub API rate limiting
FUNHUB_RATE_LIMIT_MAX=120
FUNHUB_RATE_LIMIT_WINDOW_MS=60000

# ============================================
# CUSTOM VOICE MODELS (Future)
# ============================================
VOICE_MODEL_STORAGE_PATH=/app/data/voice-models
VOICE_MODEL_MAX_SIZE_MB=500

# ============================================
# BACKUP & PERSISTENCE
# ============================================
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=7
DATA_DIR=/app/data

# ============================================
# PRODUCTION OVERRIDES
# ============================================
# Uncomment these for production:
# NODE_ENV=production
# DEPLOY_MODE=production
# DASHBOARD_COOKIE_SECURE=true
# LOG_LEVEL=warn
# DISCORD_REDIRECT_URI=https://yourdomain.com/auth/callback
# DASHBOARD_BASE_URL=https://yourdomain.com
