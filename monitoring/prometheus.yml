global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    cluster: 'chopsticks-production'
    environment: 'production'

# Alertmanager configuration (optional - for alerts)
alerting:
  alertmanagers:
    - static_configs:
        - targets: []

# Scrape configurations
scrape_configs:
  # Chopsticks Bot metrics
  - job_name: 'chopsticks-bot'
    static_configs:
      - targets: ['bot:9229'] # Adjust port if needed
        labels:
          service: 'bot'
          app: 'chopsticks'

  # Chopsticks Dashboard metrics
  - job_name: 'chopsticks-dashboard'
    static_configs:
      - targets: ['chopsticks-bot:8788'] # Dashboard port
        labels:
          service: 'dashboard'
          app: 'chopsticks'

  # PostgreSQL metrics (if using postgres_exporter)
  - job_name: 'postgres'
    static_configs:
      - targets: ['postgres:5432']
        labels:
          service: 'database'
          app: 'chopsticks'

  # Redis metrics (if using redis_exporter)
  - job_name: 'redis'
    static_configs:
      - targets: ['redis:6379']
        labels:
          service: 'cache'
          app: 'chopsticks'

  # Node exporter for system metrics (optional)
  - job_name: 'node'
    static_configs:
      - targets: ['node-exporter:9100']
        labels:
          service: 'system'

  # Lavalink metrics
  - job_name: 'lavalink'
    static_configs:
      - targets: ['lavalink:2333']
        labels:
          service: 'audio'
          app: 'chopsticks'
